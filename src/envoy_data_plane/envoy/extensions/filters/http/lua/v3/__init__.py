# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/filters/http/lua/v3/lua.proto
# plugin: python-betterproto
from dataclasses import dataclass
from typing import Dict

import betterproto
from betterproto.grpc.grpclib_server import ServiceBase


@dataclass(eq=False, repr=False)
class Lua(betterproto.Message):
    # The Lua code that Envoy will execute. This can be a very small script that
    # further loads code from disk if desired. Note that if JSON configuration is
    # used, the code must be properly escaped. YAML configuration may be easier
    # to read since YAML supports multi-line strings so complex scripts can be
    # easily expressed inline in the configuration.
    inline_code: str = betterproto.string_field(1)
    # Map of named Lua source codes that can be referenced in :ref:`LuaPerRoute
    # <envoy_v3_api_msg_extensions.filters.http.lua.v3.LuaPerRoute>`. The Lua
    # source codes can be loaded from inline string or local files. Example: ..
    # code-block:: yaml   source_codes:     hello.lua:       inline_string: |
    # function envoy_on_response(response_handle)           -- Do something.
    # end     world.lua:       filename: /etc/lua/world.lua
    source_codes: Dict[str, "_____config_core_v3__.DataSource"] = betterproto.map_field(
        2, betterproto.TYPE_STRING, betterproto.TYPE_MESSAGE
    )


@dataclass(eq=False, repr=False)
class LuaPerRoute(betterproto.Message):
    # Disable the Lua filter for this particular vhost or route. If disabled is
    # specified in multiple per-filter-configs, the most specific one will be
    # used.
    disabled: bool = betterproto.bool_field(1, group="override")
    # A name of a Lua source code stored in :ref:`Lua.source_codes
    # <envoy_v3_api_field_extensions.filters.http.lua.v3.Lua.source_codes>`.
    name: str = betterproto.string_field(2, group="override")
    # A configured per-route Lua source code that can be served by RDS or
    # provided inline.
    source_code: "_____config_core_v3__.DataSource" = betterproto.message_field(
        3, group="override"
    )


from ......config.core import v3 as _____config_core_v3__
